{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport axios from 'axios';\n\nconst form = document.querySelector('.feedback-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.wrap-loader');\n\nlet searchBar = '';\n\naxios.defaults.baseURL = 'https://pixabay.com';\nconst endpoint = 'api';\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  searchBar = event.currentTarget.elements.search.value.trim();\n  loader.classList.remove('hiden');\n  event.currentTarget.elements.search.value = '';\n  fetchImages();\n});\n\nasync function fetchImages() {\n  //   const searchParams = new URLSearchParams({\n  //     key: '42046594-dc9dc59be7e95573d854c379a',\n  //     q: `${searchBar}`,\n  //     image_type: 'photo',\n  //     orientation: 'horizontal',\n  //     safesearch: 'true',\n  //     per_page: 9,\n  //   });\n\n  const response = await axios.get(`${endpoint}`, {\n    params: {\n      key: '42046594-dc9dc59be7e95573d854c379a',\n      q: `${searchBar}`,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      per_page: 9,\n    },\n  });\n\n  return response.data;\n\n  //     .then(response => {\n  //       console.log(response.data);\n  //       if (response.data.hits.length === 0) {\n  //         iziToast.show({\n  //           message:\n  //             'Sorry, there are no images matching your search query. Please try again!',\n  //           messageColor: '#FAFAFB',\n  //           messageSize: '16px',\n  //           backgroundColor: '#EF4040',\n  //           position: 'topRight',\n  //         });\n  //       }\n\n  //       gallery.innerHTML = createGallery(response.data.hits);\n\n  //       lightbox.refresh();\n  //     })\n  //     .catch(error => {\n  //       console.log(error);\n  //     })\n  //     .finally(() => {\n  //       loader.classList.add('hiden');\n  //     });\n}\n\nfunction createGallery(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n           <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n          />\n\n            <ul class = \"description-list\">\n\n              <li class = \"description-item\">\n               <h3 class = \"description-title\">Likes</h3>\n               <p class = \"description-text\">${likes}</p>\n              </li>\n\n              <li class = \"description-item\">\n               <h3 class = \"description-title\">Views</h3>\n               <p class = \"description-text\">${views}</p>\n              </li>\n          \n              <li class = \"description-item\">\n               <h3 class = \"description-title\">Comments</h3>\n               <p class = \"description-text\">${comments}</p>\n              </li>\n\n              <li class = \"description-item\">\n               <h3 class = \"description-title\">Downloads</h3>\n               <p class = \"description-text\">${downloads}</p>\n               </li>\n          \n             </ul>\n           </a>\n\n      </li>\n      `\n    )\n    .join('');\n}\n"],"names":["form","loader","searchBar","axios","endpoint","SimpleLightbox","event","fetchImages"],"mappings":"6vBAIA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACpC,SAAS,cAAc,UAAU,EACjD,MAAMC,EAAS,SAAS,cAAc,cAAc,EAEpD,IAAIC,EAAY,GAEhBC,EAAM,SAAS,QAAU,sBACzB,MAAMC,EAAW,MAEF,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDL,EAAK,iBAAiB,SAAUM,GAAS,CACvCA,EAAM,eAAc,EACpBJ,EAAYI,EAAM,cAAc,SAAS,OAAO,MAAM,OACtDL,EAAO,UAAU,OAAO,OAAO,EAC/BK,EAAM,cAAc,SAAS,OAAO,MAAQ,GAC5CC,GACF,CAAC,EAED,eAAeA,GAAc,CAqB3B,OAXiB,MAAMJ,EAAM,IAAI,GAAGC,IAAY,CAC9C,OAAQ,CACN,IAAK,qCACL,EAAG,GAAGF,IACN,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,CACX,CACL,CAAG,GAEe,IAyBlB"}